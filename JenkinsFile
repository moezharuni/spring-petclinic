pipeline {
    agent any
    stages {
        stage('source code'){
            steps {
               git url: 'https://github.com/moezharuni/spring-petclinic.git'
               branch: 'main'
            }
        }
        stage('build'){
            steps {
                sh 'mvn package'
            }
        }
        stage('Archive the Artifacts'){
            steps {
                archive 'target/*.jar'
            }
        stage('Junit Results'){
            steps {
                junit '**/surefire-reports/*.xml'
                } 
            }   
    
        }

    }
}